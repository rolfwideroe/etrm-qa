<DbQuery>
	<Columns>
		<Column ColumnName="SimulationNum" ColumnDataType="System.Int32"/>
		<Column ColumnName="FromDate" ColumnDataType="System.DateTime"/>
		<Column ColumnName="ToDate" ColumnDataType="System.DateTime"/>
		<Column ColumnName="CashFlow" ColumnDataType="System.Double"/>
		<Column ColumnName="NetVolume" ColumnDataType="System.Double"/>
		<Column ColumnName="Production" ColumnDataType="System.Double"/>
		<Column ColumnName="PortfolioId" ColumnDataType="System.Int32"/>
		<Column ColumnName="PortfolioName" ColumnDataType="System.String"/>	
	</Columns>
	<SqlQuery>
		DECLARE @workSpace VARCHAR(255)
		DECLARE @monitor VARCHAR(255)
		DECLARE @reportDate DATE

		SET @workSpace='{workspace}'
		SET @monitor='{monitor}'
		SET @reportDate='{reportdate}'

		SELECT
			  [SimulationNum]
			  ,[FromDate]
			  ,[ToDate]
			  ,[CashFlow]
			  ,[NetVolume]
			  ,[Production]
			  ,[PortfolioId]
			  ,[PortfolioName]
		  FROM VizCFaRMonData d
		  WHERE PortfolioName='Total'
		  AND ReportID = (
							SELECT r.ReportID FROM VizCFaRMonReports r
							WHERE r.MonitorTitle=@monitor
							AND r.Workspace=@workSpace
							AND r.ReportDate=@reportDate
							
							)
		   ORDER BY d.SimulationNum,FromDate	
	</SqlQuery>
</DbQuery>